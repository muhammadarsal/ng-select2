!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng-select2",["exports","@angular/core","@angular/forms","@angular/common"],t):t(e["ng-select2"]={},e.ng.core,e.ng.forms,e.ng.common)}(this,function(e,r,t,n){"use strict";var l=function(){function e(e,t,n){this.renderer=e,this.zone=t,this._element=n,this.placeholder="",this.dropdownParent="",this.allowClear=!1,this.disabled=!1,this.valueChanged=new r.EventEmitter,this.element=undefined,this.check=!1,this.propagateChange=function(e){}}return e.prototype.ngDoCheck=function(){this.element},e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){if(this.element){if(e.data&&JSON.stringify(e.data.previousValue)!==JSON.stringify(e.data.currentValue)){this.initPlugin();var t=this.value;this.setElementValue(t),this.propagateChange(t)}if(e.value&&e.value.previousValue!==e.value.currentValue){t=e.value.currentValue;this.setElementValue(t),this.valueChanged.emit({value:t,data:this.element.select2("data")}),this.propagateChange(t)}e.disabled&&e.disabled.previousValue!==e.disabled.currentValue&&this.renderer.setElementProperty(this.selector.nativeElement,"disabled",this.disabled),e.placeholder&&e.placeholder.previousValue!==e.placeholder.currentValue&&this.element.data("select2").$container.find(".select2-selection__placeholder").text(this.placeholder),e.dropdownParent&&e.dropdownParent.previousValue!==e.dropdownParent.currentValue&&this.renderer.setElementAttribute(this.selector.nativeElement,"data-dropdownParent",this.dropdownParent),e.allowClear&&e.allowClear.previousValue!==e.allowClear.currentValue&&this.renderer.setElementAttribute(this.selector.nativeElement,"data-allow-clear",this.allowClear.toString())}},e.prototype.ngAfterViewInit=function(){var n=this;this.element=jQuery(this.selector.nativeElement),this.renderer.setElementAttribute(this.selector.nativeElement,"data-dropdownParent",this.dropdownParent),this.renderer.setElementAttribute(this.selector.nativeElement,"data-allow-clear",this.allowClear.toString()),this.initPlugin(),"undefined"!=typeof this.value&&this.setElementValue(this.value),this.element.on("select2:select select2:unselect",function(e){var t=n.element.val();n.valueChanged.emit({value:t,data:n.element.select2("data")}),n.propagateChange(t),n.setElementValue(t)})},e.prototype.ngOnDestroy=function(){this.element.off("select2:select")},e.prototype.initPlugin=function(){var t=this;if(this.element.select2){!0===this.element.hasClass("select2-hidden-accessible")&&(this.element.select2("destroy"),this.renderer.setElementProperty(this.selector.nativeElement,"innerHTML",""));var n={data:this.data,width:this.width?this.width:"resolve",placeholder:this.placeholder};this.dropdownParent&&(n={data:this.data,width:this.width?this.width:"resolve",dropdownParent:jQuery("#"+this.dropdownParent)}),Object.assign(n,this.options),n.matcher?jQuery.fn.select2.amd.require(["select2/compat/matcher"],function(e){n.matcher=e(n.matcher),t.element.select2(n),"undefined"!=typeof t.value&&t.setElementValue(t.value)}):this.element.select2(n),this.renderer.setElementProperty(this.selector.nativeElement,"disabled",this.disabled)}else this.check||(this.check=!0,console.log("Please add Select2 library (js file) to the project.You can download it from https://github.com/select2/select2/tree/master/dist/js."))},e.prototype.setElementValue=function(e){var t,n;if(Array.isArray(e))try{for(var r=function i(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(this.selector.nativeElement.options),l=r.next();!l.done;l=r.next()){var a=l.value;this.renderer.setElementProperty(a,"selected",-1<e.indexOf(a.value))}}catch(o){t={error:o}}finally{try{l&&!l.done&&(n=r["return"])&&n.call(r)}finally{if(t)throw t.error}}else this.renderer.setElementProperty(this.selector.nativeElement,"value",e);this.element&&this.element.trigger("change.select2")},e.prototype.writeValue=function(e){e!==undefined&&(this.value=e,this.setElementValue(e))},e.prototype.registerOnChange=function(e){this.propagateChange=e,this.valueChanged.subscribe(e)},e.prototype.registerOnTouched=function(){},e.decorators=[{type:r.Component,args:[{selector:"ng-select2",template:'<select #selector>\n  <ng-content select="option, optgroup">\n  </ng-content>\n</select>\n',encapsulation:r.ViewEncapsulation.None,changeDetection:r.ChangeDetectionStrategy.OnPush,providers:[{provide:t.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return e}),multi:!0}]}]}],e.ctorParameters=function(){return[{type:r.Renderer},{type:r.NgZone},{type:r.ElementRef}]},e.propDecorators={selector:[{type:r.ViewChild,args:["selector"]}],data:[{type:r.Input}],placeholder:[{type:r.Input}],dropdownParent:[{type:r.Input}],allowClear:[{type:r.Input}],value:[{type:r.Input}],width:[{type:r.Input}],disabled:[{type:r.Input}],options:[{type:r.Input}],valueChanged:[{type:r.Output}]},e}(),a=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{imports:[n.CommonModule],declarations:[l],exports:[l]}]}],e}();e.NgSelect2Component=l,e.NgSelect2Module=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-select2.umd.min.js.map